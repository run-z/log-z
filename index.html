<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Log Z</title>
	<meta name="description" content="Documentation for Log Z">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Log Z</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>Log Z</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#log-that" id="log-that" style="color: inherit; text-decoration: none;">
					<h1>Log That</h1>
				</a>
				<p><a href="https://www.npmjs.com/package/@run-z/log-z"><img src="https://img.shields.io/npm/v/@run-z/log-z.svg?logo=npm" alt="NPM"></a>
					<a href="https://github.com/run-z/log-z/actions?query=workflow:Build"><img src="https://github.com/run-z/log-z/workflows/Build/badge.svg" alt="Build Status"></a>
					<a href="https://www.codacy.com/gh/run-z/log-z/dashboard?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=run-z/log-z&amp;utm_campaign=Badge_Grade"><img src="https://app.codacy.com/project/badge/Grade/17c8d581b0254f379875ec1355dcdce4" alt="Code Quality"></a>
					<a href="https://www.codacy.com/gh/run-z/log-z/dashboard?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=run-z/log-z&amp;utm_campaign=Badge_Coverage"><img src="https://app.codacy.com/project/badge/Coverage/17c8d581b0254f379875ec1355dcdce4" alt="Coverage"></a>
					<a href="https://github.com/run-z/log-z"><img src="https://img.shields.io/static/v1?logo=github&label=GitHub&message=project&color=informational" alt="GitHub Project"></a>
				<a href="https://run-z.github.io/log-z/"><img src="https://img.shields.io/static/v1?logo=typescript&label=API&message=docs&color=informational" alt="API Documentation"></a></p>
				<p>Logging library for browsers and Node.js.</p>
				<p>This is a reference implementation of the logging API defined by <a href="https://www.npmjs.com/package/@proc7ts/logger">@proc7ts/logger</a> package.</p>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h2>Examples</h2>
				</a>
				<p>Default logger:</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZ</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">logger</span><span style="color: #000000"> = </span><span style="color: #795E26">logZ</span><span style="color: #000000">();  </span><span style="color: #008000">// Create default logger to `console`.</span>

<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">info</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Message&#039;</span><span style="color: #000000">); </span><span style="color: #008000">// Logs with `console.info()`.</span>
<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">error</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Error&#039;</span><span style="color: #000000">);  </span><span style="color: #008000">// Logs with `console.error()`.</span>
<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">debug</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Debug&#039;</span><span style="color: #000000">);  </span><span style="color: #008000">// Messages below &quot;Warning&quot; discarded by default.</span>
</code></pre>
				<p>Logger that logs all messages, including debug and trace.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZ</span><span style="color: #000000">, </span><span style="color: #001080">zlogDetails</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z&#039;</span><span style="color: #000000">;</span>

<span style="color: #008000">// Create default logger to `console` that logs all messages.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">logger</span><span style="color: #000000"> = </span><span style="color: #795E26">logZ</span><span style="color: #000000">({ </span><span style="color: #001080">atLeast:</span><span style="color: #000000"> </span><span style="color: #098658">0</span><span style="color: #000000"> });</span>

<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">debug</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Debug&#039;</span><span style="color: #000000">);  </span><span style="color: #008000">// Logs with `console.log()`.</span>
<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">trace</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Without stack trace&#039;</span><span style="color: #000000">); </span><span style="color: #008000">// Logs with `console.debug()`.</span>
<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">trace</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;With stack trace&#039;</span><span style="color: #000000">, </span><span style="color: #795E26">zlogDetails</span><span style="color: #000000">({ </span><span style="color: #001080">stackTrace:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000"> })); </span><span style="color: #008000">// Logs with `console.trace()`.</span>
</code></pre>
				<a href="#nodejs-support" id="nodejs-support" style="color: inherit; text-decoration: none;">
					<h2>Node.js Support</h2>
				</a>
				<p>Log to file</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZ</span><span style="color: #000000">, </span><span style="color: #001080">zlogDEBUG</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZToFile</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z/node&#039;</span><span style="color: #000000">;</span>

<span style="color: #008000">// Create a file logger to `test.log`.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">fileLogger</span><span style="color: #000000"> = </span><span style="color: #795E26">logZ</span><span style="color: #000000">({ </span><span style="color: #001080">atLeast:</span><span style="color: #000000"> </span><span style="color: #001080">zlogDEBUG</span><span style="color: #000000">, </span><span style="color: #001080">by:</span><span style="color: #000000"> </span><span style="color: #795E26">logZToFile</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.log&#039;</span><span style="color: #000000">) });</span>

<span style="color: #001080">fileLogger</span><span style="color: #000000">.</span><span style="color: #795E26">debug</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Message&#039;</span><span style="color: #000000">);</span>
<span style="color: #008000">// [DEBUG] Message</span>

<span style="color: #008000">// Create a daily rolling file logger.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">rollingLogger</span><span style="color: #000000"> = </span><span style="color: #795E26">logZ</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">by:</span><span style="color: #000000"> </span><span style="color: #795E26">logZToFile</span><span style="color: #000000">(() </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">now</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Date</span><span style="color: #000000">();</span>

<span style="color: #000000">    </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #A31515">`test.</span><span style="color: #0000FF">${</span><span style="color: #001080">now</span><span style="color: #000000FF">.</span><span style="color: #795E26">getFullYear</span><span style="color: #000000FF">()</span><span style="color: #0000FF">}</span><span style="color: #A31515">-</span><span style="color: #0000FF">${</span><span style="color: #001080">now</span><span style="color: #000000FF">.</span><span style="color: #795E26">getMonth</span><span style="color: #000000FF">() </span><span style="color: #000000">+</span><span style="color: #000000FF"> </span><span style="color: #098658">1</span><span style="color: #0000FF">}</span><span style="color: #A31515">-</span><span style="color: #0000FF">${</span><span style="color: #001080">now</span><span style="color: #000000FF">.</span><span style="color: #795E26">getDate</span><span style="color: #000000FF">()</span><span style="color: #0000FF">}</span><span style="color: #A31515">.log`</span><span style="color: #000000">;</span>
<span style="color: #000000">  }),</span>
<span style="color: #000000">})</span>
</code></pre>
				<p>Log to arbitrary stream</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZ</span><span style="color: #000000">, </span><span style="color: #001080">zlogDEBUG</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZToStream</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z/node&#039;</span><span style="color: #000000">;</span>

<span style="color: #008000">// Create a stdout logger.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">streamLogger</span><span style="color: #000000"> = </span><span style="color: #795E26">logZ</span><span style="color: #000000">({ </span><span style="color: #001080">atLeast:</span><span style="color: #000000"> </span><span style="color: #001080">zlogDEBUG</span><span style="color: #000000">, </span><span style="color: #001080">by:</span><span style="color: #000000"> </span><span style="color: #795E26">logZToStream</span><span style="color: #000000">(</span><span style="color: #001080">process</span><span style="color: #000000">.</span><span style="color: #001080">stdout</span><span style="color: #000000">) });</span>

<span style="color: #001080">streamLogger</span><span style="color: #000000">.</span><span style="color: #795E26">info</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Message&#039;</span><span style="color: #000000">);</span>
<span style="color: #008000">// [INFO ] Message</span>
</code></pre>
				<a href="#log-messages" id="log-messages" style="color: inherit; text-decoration: none;">
					<h2>Log Messages</h2>
				</a>
				<p>A log message is an object with the following properties:</p>
				<ul>
					<li><p><code>level</code> - numeric log level. A <code>ZLogLevel</code> enum can be used to specify one of predefined levels:</p>
						<ul>
							<li><code>Fatal</code> - The service/app is going to stop or become unusable now.
							An operator should definitely look into this soon.</li>
							<li><code>Error</code> - Fatal for a particular request, but the service/app continues servicing other requests.
							An operator should look at this soon(ish).</li>
							<li><code>Warning</code> - A note on something that should probably be looked at by an operator eventually.</li>
							<li><code>Info</code> - Detail on regular operation.</li>
							<li><code>Debug</code> - Anything else, i.e. too verbose to be included in &quot;info&quot; level.     </li>
							<li><code>Trace</code> - Logging from external libraries used by your app or very detailed application logging.</li>
						</ul>
					</li>
					<li><p><code>line</code> - Log line containing arbitrary values to log.</p>
					</li>
					<li><p><code>details</code> - Message details map.</p>
						<p>The keys of this map are specific to application or log recorder implementation.</p>
					</li>
				</ul>
				<p>The <code>record()</code> method of the <a href="https://run-z.github.io/log-z/classes/module__run_z_log_z.zlogger.html">logger</a> logs such messages.</p>
				<p>The <a href="https://run-z.github.io/log-z/classes/module__run_z_log_z.zlogger.html">logger</a> also has more convenient methods accepting arbitrary parameters and corresponding to each predefined log
					level, like <code>info()</code> and <code>error()</code>, <code>warn()</code>, <code>trace()</code>, etc. Each of these methods processes <code>Loggable</code> values. E.g.
				the one created by <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#zlogdetails-1">zlogDetails()</a>.</p>
				<p>A <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#zlogmessage-1">zlogMessage()</a> function can be used to construct a log message. A level-specific messages can be constructed by
				dedicated functions like <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#zlogdebug">zlogDEBUG</a> or <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#zlogerror">zlogERROR</a>.</p>
				<a href="#loggable-values" id="loggable-values" style="color: inherit; text-decoration: none;">
					<h2>Loggable Values</h2>
				</a>
				<p>A message error or any message parameter can customize how it is logged by implementing <code>Loggable</code> or <code>ZLoggable</code>
				interface. I.e. it should implement <code>toLog()</code> method. See the <a href="https://www.npmjs.com/package/@proc7ts/logger">@proc7ts/logger</a> for the details.</p>
				<p>For example, a <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#zlogdetails-1">zlogDetails()</a> creates a loggable value that adjusts the details of the logged message.</p>
				<p>Another possible usage scenario is deferring the actual evaluation of the logged message until it is written to the log.
				This can be done with <code>logDefer()</code> function:</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logDefer</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@proc7ts/logger&#039;</span><span style="color: #000000">;</span>

<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">debug</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Debug info&#039;</span><span style="color: #000000">, </span><span style="color: #795E26">logDefer</span><span style="color: #000000">(() </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #795E26">zlogDetails</span><span style="color: #000000">({ </span><span style="color: #001080">info:</span><span style="color: #000000"> </span><span style="color: #795E26">evaluateDebugInfo</span><span style="color: #000000">() })));</span>
<span style="color: #008000">// `evaluateDebugInfo()` will be called only if `DEBUG` log level enabled.</span>
<span style="color: #008000">// Note that this will happen right before writing to the log,</span>
<span style="color: #008000">// which may happen at a later time, or not happen at all.</span>
</code></pre>
				<a href="#log-formats" id="log-formats" style="color: inherit; text-decoration: none;">
					<h2>Log Formats</h2>
				</a>
				<p>The Node.js loggers write messages in predefined format by default:</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZ</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZToStream</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z/node&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">logger</span><span style="color: #000000"> = </span><span style="color: #795E26">logZ</span><span style="color: #000000">({ </span><span style="color: #001080">by:</span><span style="color: #000000"> </span><span style="color: #795E26">logZToStream</span><span style="color: #000000">(</span><span style="color: #001080">process</span><span style="color: #000000">.</span><span style="color: #001080">stdout</span><span style="color: #000000">) });</span>

<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">info</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Message&#039;</span><span style="color: #000000">, </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">Error</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Failed&#039;</span><span style="color: #000000">), </span><span style="color: #795E26">zlogDetails</span><span style="color: #000000">({ </span><span style="color: #001080">detail1:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;value&#039;</span><span style="color: #000000">, </span><span style="color: #001080">detail2:</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> }), </span><span style="color: #A31515">&#039;Extra 1&#039;</span><span style="color: #000000">, [</span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">3</span><span style="color: #000000">])</span>
<span style="color: #008000">// [INFO ] Message (&quot;Extra 1&quot;, [2, 3]) { detail1: &quot;value&quot;; detail2: 2 } Error: Failed</span>
<span style="color: #008000">//    at file:///.../example.mjs:6:24</span>
<span style="color: #008000">//    at ModuleJob.run (internal/modules/esm/module_job.js:146:37)</span>
<span style="color: #008000">//    at async Loader.import (internal/modules/esm/loader.js:182:24)</span>
<span style="color: #008000">//    at async Object.loadESM (internal/process/esm_loader.js:84:5)</span>
</code></pre>
				<p>This format can be customized:</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">levelZLogField</span><span style="color: #000000">, </span><span style="color: #001080">logZ</span><span style="color: #000000">, </span><span style="color: #001080">messageZLogField</span><span style="color: #000000">, </span><span style="color: #001080">zlogDetails</span><span style="color: #000000">, </span><span style="color: #001080">zlogLevelName</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZToStream</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z/node&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">logger</span><span style="color: #000000"> = </span><span style="color: #795E26">logZ</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">by:</span><span style="color: #000000"> </span><span style="color: #795E26">logZToStream</span><span style="color: #000000">(</span>
<span style="color: #000000">    </span><span style="color: #001080">process</span><span style="color: #000000">.</span><span style="color: #001080">stdout</span><span style="color: #000000">,</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">      </span><span style="color: #001080">format:</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">fields:</span><span style="color: #000000"> [</span>
<span style="color: #000000">          </span><span style="color: #A31515">&#039;&gt;&gt;&gt; &#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">          </span><span style="color: #795E26">levelZLogField</span><span style="color: #000000">(</span><span style="color: #001080">zlogLevelName</span><span style="color: #000000">),</span>
<span style="color: #000000">          </span><span style="color: #A31515">&#039; &quot;&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">          </span><span style="color: #795E26">messageZLogField</span><span style="color: #000000">(),</span>
<span style="color: #000000">          </span><span style="color: #A31515">&#039;&quot; &#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">          </span><span style="color: #001080">line</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">            </span><span style="color: #001080">line</span><span style="color: #000000">.</span><span style="color: #795E26">write</span><span style="color: #000000">(</span><span style="color: #267F99">JSON</span><span style="color: #000000">.</span><span style="color: #795E26">stringify</span><span style="color: #000000">(</span><span style="color: #001080">line</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">.</span><span style="color: #001080">details</span><span style="color: #000000">));</span>
<span style="color: #000000">          },</span>
<span style="color: #000000">        ],</span>
<span style="color: #000000">      },</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">  ),</span>
<span style="color: #000000">});</span>

<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">info</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Message&#039;</span><span style="color: #000000">, </span><span style="color: #795E26">zlogDetails</span><span style="color: #000000">({ </span><span style="color: #001080">detail1:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;value&#039;</span><span style="color: #000000">, </span><span style="color: #001080">detail2:</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> }));</span>
<span style="color: #008000">// &gt;&gt;&gt; Info &quot;Message&quot; {&quot;detail1&quot;:&quot;value&quot;,&quot;detail2&quot;:2}</span>
</code></pre>
				<p>Or completely replaced:</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZ</span><span style="color: #000000">, </span><span style="color: #001080">zlogDetails</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">logZToStream</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@run-z/log-z/node&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">logger</span><span style="color: #000000"> = </span><span style="color: #795E26">logZ</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">by:</span><span style="color: #000000"> </span><span style="color: #795E26">logZToStream</span><span style="color: #000000">(</span>
<span style="color: #000000">    </span><span style="color: #001080">process</span><span style="color: #000000">.</span><span style="color: #001080">stdout</span><span style="color: #000000">,</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">      </span><span style="color: #001080">format:</span><span style="color: #000000"> </span><span style="color: #267F99">JSON</span><span style="color: #000000">.</span><span style="color: #795E26">stringify</span><span style="color: #000000">,</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">  ),</span>
<span style="color: #000000">});</span>

<span style="color: #001080">logger</span><span style="color: #000000">.</span><span style="color: #795E26">info</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Message&#039;</span><span style="color: #000000">, </span><span style="color: #795E26">zlogDetails</span><span style="color: #000000">({ </span><span style="color: #001080">detail1:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;value&#039;</span><span style="color: #000000">, </span><span style="color: #001080">detail2:</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000"> }));</span>
<span style="color: #008000">// {&quot;level&quot;:30,&quot;text&quot;:&quot;Message&quot;,&quot;details&quot;:{&quot;detail1&quot;:&quot;value&quot;,&quot;detail2&quot;:2},&quot;extra&quot;:[]}</span>
</code></pre>
				<a href="#custom-loggers" id="custom-loggers" style="color: inherit; text-decoration: none;">
					<h2>Custom Loggers</h2>
				</a>
				<p>Custom logger can be built by implementing a <a href="https://run-z.github.io/log-z/interfaces/module__run_z_log_z.zlogrecorder.html">ZLogRecorder</a> interface. The latter has three methods:</p>
				<ul>
					<li><p><code>record(message: ZLogMessage): void</code> - Records a log message.</p>
						<p>The actual logging of the message can be asynchronous.</p>
					</li>
					<li><p><code>whenLogged(which?: &#39;all&#39; | &#39;last&#39;): Promise&lt;boolean&gt;</code> - Awaits for the recorded message(s) to be either logged or
						discarded.  </p>
						<p>The optional <code>which</code> parameter can be one of:</p>
						<ul>
							<li><code>&quot;all&quot;</code> to wait for all messages,</li>
							<li><code>&quot;last&quot;</code> (the default) to wait for the last recorded message only.</li>
						</ul>
					</li>
					<li><p><code>end(): Promise&lt;void&gt;</code> - Ends log recording and returns a promise resolved when recorder stopped.</p>
						<p>All messages discarded after this method call. </p>
					</li>
				</ul>
				<p>The <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logz">logZ</a> and <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logzby">logZBy</a> functions converts arbitrary <a href="https://run-z.github.io/log-z/interfaces/module__run_z_log_z.zlogrecorder.html">ZLogRecorder</a> to <a href="https://run-z.github.io/log-z/classes/module__run_z_log_z.zlogger.html">logger</a>. The former accepts additional
				parameters, e.g. is able to filter out some debug messages.</p>
				<a href="#additional-log-recorders" id="additional-log-recorders" style="color: inherit; text-decoration: none;">
					<h2>Additional Log Recorders</h2>
				</a>
				<p>There are several additional log recorders that can combine or modify the behavior of other recorders:</p>
				<ul>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logzatopof">logZAtopOf</a> - Logs messages atop of the target log recorder.
						When it ends logging, the target recorder still can record messages.
					This, combined with <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logzwithdetails">logZWithDetails</a>, can be treated as &quot;child&quot; logger.</li>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logzbyall">logZByAll</a> - Logs messages by all the given recorders.</li>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logzbyany">logZByAny</a> - Logs messages by any of the given recorders.</li>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logztimestamp">logZTimestamp</a> - Timestamp log recorder.
					Adds a timestamp property to message details.</li>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logztobuffer">logZToBuffer</a> - A log buffer that can be drained to another log recorder.   </li>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logztologger">logZToLogger</a> - Logs to another <code>Logger</code>. To <code>consoleLogger</code> by default. This is the default recorder used by <a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logz">logZ</a>
					function.</li>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logzupdated">logZUpdated</a> - Updates log messages.</li>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logzwhenlevel">logZWhenLevel</a> - A log recorder of messages with required level.
					Messages not satisfying the condition either logged by another recorder, or discarded.</li>
					<li><a href="https://run-z.github.io/log-z/modules/module__run_z_log_z.html#logzwithdetails">logZWithDetails</a> - Updates message details.     </li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/module__run_z_log_z.html">Module @run-<wbr>z/log-<wbr>z</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/module__run_z_log_z_node.html">Module @run-<wbr>z/log-<wbr>z/node</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>